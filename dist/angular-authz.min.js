/*! angular-authz 16-01-2015 */
!function(){"use strict";angular.module("angular-authz",[]),angular.module("angular-authz").factory("SimplePermission",function(){function a(a){this.asString=function(){return a},this.implies=function(a){return this.asString()===a.asString()}}return a}),angular.module("angular-authz").factory("simplePermissionResolver",["SimplePermission",function(a){return{resolve:function(b){return new a(b)}}}]),angular.module("angular-authz").factory("WildcardPermission",function(){function a(a){for(var b=[],c=a.split(":"),d=0;d<c.length;++d)b.push(c[d].split(","));return b}function b(a,b){for(var c=0;c<b.length;++c)if(-1===a.indexOf(b[c]))return!1;return!0}function c(c){var d=a(c);this.asString=function(){return c},this.asParts=function(){return d},this.implies=function(a){var c;for(c=0;c<a.asParts().length;++c){if(d.length-1<c)return!0;if(-1===d[c].indexOf("*")&&!b(d[c],a.asParts()[c]))return!1}for(;c<d.length;++c)if(-1===d[c].indexOf("*"))return!1;return!0}}return c}),angular.module("angular-authz").factory("wildcardPermissionResolver",["WildcardPermission",function(a){return{resolve:function(b){return new a(b)}}}]),angular.module("angular-authz").provider("authz",function(){var a;this.setResolver=function(b){a=b};var b;this.setHasResolver=function(a){b=a};var c;this.setPermissions=function(a){c=a},this.$get=["wildcardPermissionResolver",function(d){function e(a){h.length=0;for(var b=0;b<a.length;++b){var c=f.resolve(a[b]);h.push(c)}}var f=a||d,g=b||a||d,h=[];return c&&e(c),{setPermissions:function(a){e(a)},hasPermission:function(a){for(var b=g.resolve(a),c=0;c<h.length;++c)if(h[c].implies(b))return!0;return!1}}}]}),angular.module("angular-authz").directive("hasPermission",["$interpolate","authz",function(a,b){return{transclude:"element",priority:1e3,terminal:!0,restrict:"A",compile:function(c,d,e){return function(c,d,f){var g=a(f.hasPermission)(c);b.hasPermission(g)&&e(c.$new(),function(a){d.after(a)})}}}}]),angular.module("angular-authz").directive("hasNotPermission",["$interpolate","authz",function(a,b){return{transclude:"element",priority:1e3,terminal:!0,restrict:"A",compile:function(c,d,e){return function(c,d,f){var g=a(f.hasNotPermission)(c);b.hasPermission(g)||e(c.$new(),function(a){d.after(a)})}}}}])}();